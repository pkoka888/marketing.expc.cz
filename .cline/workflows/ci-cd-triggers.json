{
  "version": "1.0.0",
  "ciCdIntegration": {
    "githubActions": {
      "enabled": true,
      "workflows": {
        "agent-phase-complete": {
          "name": "Agent Phase Complete CI/CD",
          "description": "Triggered when an agent phase is completed",
          "trigger": "workflow_dispatch",
          "inputs": {
            "phase": {
              "description": "Development phase that was completed",
              "required": true,
              "type": "string"
            },
            "results": {
              "description": "Results from the completed phase",
              "required": true,
              "type": "string"
            },
            "validationStatus": {
              "description": "Validation status of the phase completion",
              "required": false,
              "type": "string",
              "default": "pending"
            }
          },
          "jobs": {
            "validate-phase-completion": {
              "runs-on": "ubuntu-latest",
              "steps": [
                {
                  "name": "Checkout code",
                  "uses": "actions/checkout@v4"
                },
                {
                  "name": "Parse phase results",
                  "run": "echo \"Phase: ${{ github.event.inputs.phase }}\" && echo \"Results: ${{ github.event.inputs.results }}\""
                },
                {
                  "name": "Run validation checks",
                  "run": |
                    # Run code quality checks
                    npm run lint
                    npm run typecheck
                    npm run test
                    
                    # Run security scans
                    npm audit
                    
                    # Validate agent results
                    node .cline/scripts/validate-phase-results.js \
                      --phase "${{ github.event.inputs.phase }}" \
                      --results "${{ github.event.inputs.results }}"
                },
                {
                  "name": "Generate phase report",
                  "run": |
                    node .cline/scripts/generate-phase-report.js \
                      --phase "${{ github.event.inputs.phase }}" \
                      --results "${{ github.event.inputs.results }}" \
                      --output "reports/phase-${{ github.event.inputs.phase }}-$(date +%Y%m%d-%H%M%S).md"
                },
                {
                  "name": "Upload phase report",
                  "uses": "actions/upload-artifact@v4",
                  "with": {
                    "name": "phase-report-${{ github.event.inputs.phase }}",
                    "path": "reports/"
                  }
                }
              ]
            },
            "deploy-if-ready": {
              "needs": "validate-phase-completion",
              "if": "github.event.inputs.phase == 'deployment' && github.event.inputs.validationStatus == 'passed'",
              "runs-on": "ubuntu-latest",
              "steps": [
                {
                  "name": "Deploy to staging",
                  "run": |
                    echo "Deploying to staging environment..."
                    # Add deployment commands here
                },
                {
                  "name": "Run integration tests",
                  "run": |
                    npm run test:integration
                },
                {
                  "name": "Deploy to production",
                  "if": "success()",
                  "run": |
                    echo "Deploying to production environment..."
                    # Add production deployment commands here
                }
              ]
            }
          }
        },
        "agent-interaction-validation": {
          "name": "Agent Interaction Validation",
          "description": "Validates agent interactions and logs",
          "trigger": "schedule",
          "schedule": [
            {
              "cron": "0 2 * * *"  // Daily at 2 AM
            }
          ],
          "jobs": {
            "validate-interactions": {
              "runs-on": "ubuntu-latest",
              "steps": [
                {
                  "name": "Checkout code",
                  "uses": "actions/checkout@v4"
                },
                {
                  "name": "Run interaction validation",
                  "run": |
                    node .cline/scripts/validate-all-interactions.js \
                      --logs ".cline/logs/" \
                      --output ".cline/validation-reports/"
                },
                {
                  "name": "Generate metrics",
                  "run": |
                    node .cline/scripts/generate-validation-metrics.js \
                      --input ".cline/validation-reports/" \
                      --output ".cline/metrics/validation-metrics-$(date +%Y%m%d).json"
                },
                {
                  "name": "Upload validation reports",
                  "uses": "actions/upload-artifact@v4",
                  "with": {
                    "name": "validation-reports",
                    "path": ".cline/validation-reports/"
                  }
                }
              ]
            }
          }
        }
      }
    },
    "gitIntegration": {
      "autoCommit": {
        "enabled": true,
        "messageTemplate": "ðŸ¤– Agent Phase Complete: {phase}\n\nResults: {results}\n\nValidation: {validationStatus}\n\nAgent: {agentMode}\nTimestamp: {timestamp}",
        "filesToInclude": [
          ".cline/logs/",
          ".cline/context/",
          ".cline/workflows/",
          "reports/",
          "src/",
          "docs/"
        ],
        "commitOnCompletion": true
      },
      "branchStrategy": {
        "mainBranch": "main",
        "featureBranchPrefix": "feature/agent-",
        "hotfixBranchPrefix": "hotfix/agent-",
        "createFeatureBranch": true
      }
    },
    "notificationSystem": {
      "slack": {
        "enabled": false,
        "webhookUrl": "${{ secrets.SLACK_WEBHOOK_URL }}",
        "channels": {
          "phaseCompletion": "#dev-updates",
          "validationResults": "#quality-assurance",
          "deployment": "#deployments"
        }
      },
      "email": {
        "enabled": false,
        "smtpConfig": {
          "host": "${{ secrets.SMTP_HOST }}",
          "port": 587,
          "secure": false,
          "auth": {
            "user": "${{ secrets.SMTP_USER }}",
            "pass": "${{ secrets.SMTP_PASS }}"
          }
        },
        "recipients": [
          "dev-team@company.com"
        ]
      }
    }
  },
  "triggers": {
    "phaseCompletion": {
      "enabled": true,
      "phases": [
        "setup",
        "architecture",
        "implementation",
        "testing",
        "deployment"
      ],
      "autoTrigger": {
        "ciCdPipeline": true,
        "gitCommit": true,
        "notifications": true
      }
    },
    "validationFailure": {
      "enabled": true,
      "actions": [
        "rollbackChanges",
        "notifyTeam",
        "createIssue"
      ]
    },
    "performanceThreshold": {
      "enabled": true,
      "metrics": {
        "agentResponseTime": "5 minutes",
        "codeQualityScore": 8.0,
        "testCoverage": "80%"
      }
    }
  },
  "monitoring": {
    "metricsCollection": {
      "interactionMetrics": true,
      "performanceMetrics": true,
      "qualityMetrics": true,
      "userSatisfaction": true
    },
    "dashboards": {
      "enabled": true,
      "tools": [
        "grafana",
        "datadog",
        "custom-dashboard"
      ],
      "metrics": [
        "agentResponseTime",
        "taskCompletionRate",
        "codeQualityScore",
        "testCoverage",
        "userSatisfaction"
      ]
    },
    "alerts": {
      "enabled": true,
      "conditions": [
        {
          "metric": "agentResponseTime",
          "threshold": "10 minutes",
          "severity": "warning"
        },
        {
          "metric": "codeQualityScore",
          "threshold": 6.0,
          "severity": "critical"
        },
        {
          "metric": "testCoverage",
          "threshold": "70%",
          "severity": "warning"
        }
      ]
    }
  }
}